{
  "$schema": "http://json-schema.org/draft-07/schema",
  "title": "Neopyter",
  "description": "A JupyterLab extension. Integrate JupyterLab and Neovim",
  "jupyter.lab.setting-icon": "ui-components:neopyter",
  "jupyter.lab.setting-icon-label": "Neopyter",
  "definitions": {
    "mode": {
      "type": "string",
      "enum": ["proxy", "direct"]
    },
    "ip": {
      "type": "string"
    },
    "port": {
      "type": "number"
    }
  },
  "properties": {
    "mode": {
      "title": "Neopyter mode",
      "description": "Different work mode determine different methods of communication. The `proxy` mode will communicate through jupyter server, while the `direct` mode will communicate directly with nvim",
      "$ref": "#/definitions/mode",
      "default": "direct"
    }
  },
  "dependencies": {
    "mode": {
      "oneOf": [
        {
          "properties": {
            "mode": {
              "enum": ["direct"]
            }
          }
        },
        {
          "properties": {
            "mode": {
              "enum": ["proxy"]
            },
            "ip": {
              "title": "IP",
              "description": "For `proxy` mode, this is the IP of the host where jupyter server is located",
              "$ref": "#/definitions/ip",
              "default": "127.0.0.1"
            },
            "port": {
              "title": "Port",
              "$ref": "#/definitions/port",
              "default": 9001
            }
          }
        }
      ]
    }
  },
  "type": "object"
}
